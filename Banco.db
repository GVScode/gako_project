http://localhost/phpmyadmin



CREATE TABLE produtos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255) NOT NULL,
    slug VARCHAR(255) NOT NULL,
    descricao TEXT,
    preco DECIMAL(10,2) NOT NULL,
    preco_promocional DECIMAL(10,2) DEFAULT 0.00,
    imagem_capa VARCHAR(255),
    ativo TINYINT(1) DEFAULT 1,
    criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;




INSERT INTO produtos 
(nome, slug, descricao, preco, preco_promocional, imagem_capa, ativo)
VALUES
('Mouse Gamer RGB', 'mouse-gamer-rgb', 'Mouse gamer com 7 botões e LED RGB', 199.90, 149.90, 'mouse.jpg', 1),
('Teclado Mecânico', 'teclado-mecanico', 'Teclado mecânico switch blue', 399.90, 0.00, 'teclado.jpg', 1),
('Headset Gamer Pro', 'headset-gamer-pro', 'Headset com som surround 7.1', 299.90, 249.90, 'headset.jpg', 1);


CREATE TABLE clientes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(150) NOT NULL,
    email VARCHAR(150) NOT NULL UNIQUE,
    senha VARCHAR(255) NOT NULL,
    telefone VARCHAR(20),
    ativo TINYINT(1) DEFAULT 1,
    criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


INSERT INTO clientes (nome, email, senha)
VALUES ('Cliente Teste', 'cliente@gako.com', '123456');


CREATE TABLE administradores (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(150) NOT NULL UNIQUE,
    senha VARCHAR(255) NOT NULL,
    criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);




INSERT INTO administradores (nome, email, senha)
VALUES ('Admin', 'admin@gako.com', '123456');




CREATE TABLE categorias (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(150) NOT NULL,
    slug VARCHAR(150) NOT NULL UNIQUE,
    descricao TEXT,
    ativo TINYINT(1) DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;





INSERT INTO categorias (nome, slug, descricao) VALUES
('E-books', 'e-books', 'Livros digitais'),
('Cursos', 'cursos', 'Cursos online'),
('Templates', 'templates', 'Arquivos editáveis');




UPDATE produtos SET categoria_id = 1, destaque = 1 WHERE id = 1;
UPDATE produtos SET categoria_id = 2 WHERE id = 2;
UPDATE produtos SET categoria_id = 3 WHERE id = 3;






CREATE TABLE pedidos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    cliente_id INT NULL,
    codigo VARCHAR(50) NOT NULL UNIQUE,
    status VARCHAR(50) DEFAULT 'pendente',
    metodo_pagamento VARCHAR(50),
    total DECIMAL(10,2) NOT NULL,
    observacoes TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (cliente_id) REFERENCES clientes(id)
    ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;







CREATE TABLE pedido_itens (
    id INT AUTO_INCREMENT PRIMARY KEY,
    pedido_id INT NOT NULL,
    produto_id INT NOT NULL,
    nome_produto VARCHAR(255),
    preco_unitario DECIMAL(10,2),
    quantidade INT,
    total DECIMAL(10,2),
    FOREIGN KEY (pedido_id) REFERENCES pedidos(id)
    ON DELETE CASCADE,
    FOREIGN KEY (produto_id) REFERENCES produtos(id)
    ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;








CREATE TABLE downloads (
    id INT AUTO_INCREMENT PRIMARY KEY,
    pedido_id INT NOT NULL,
    produto_id INT NOT NULL,
    cliente_id INT NOT NULL,
    arquivo VARCHAR(255),
    expira_em DATETIME,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (pedido_id) REFERENCES pedidos(id)
    ON DELETE CASCADE,
    FOREIGN KEY (produto_id) REFERENCES produtos(id)
    ON DELETE CASCADE,
    FOREIGN KEY (cliente_id) REFERENCES clientes(id)
    ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;





